<script>
function confirmOrder(){
  const orders = JSON.parse(localStorage.getItem('RHF_ORDERS')||'[]');

  orders.push({
    id: 'ORD'+Date.now(),
    ...order,
    payment: payment.value,
    total: finalPrice,
    status: 'MENUNGGU PEMBAYARAN',
    time: new Date().toISOString()
  });

  /* ===== TAMBAHAN TANPA MENGUBAH DATA ASLI ===== */
  const last = orders[orders.length - 1];

  // nama game aman
  last.gameName = last.game?.name || '';

  // nama paket aman
  last.productName = last.product?.name || '';

  // ambil nomor / id akun (apa pun inputnya)
  let target = '';
  if(last.account){
    Object.values(last.account).forEach(v=>{
      if(!target) target = v;
    });
  }
  last.target = target;

  /* ===== SIMPAN ULANG ===== */
  localStorage.setItem('RHF_ORDERS',JSON.stringify(orders));

  alert('Pesanan berhasil dibuat!');
  localStorage.removeItem('RHF_CHECKOUT');
  location.href='index.html';
}
</script>
