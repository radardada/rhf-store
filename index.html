<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>RHF GAMES</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#0f172a;color:#e5e7eb}
header{padding:16px;background:#020617;font-size:20px;font-weight:bold;text-align:center}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;padding:16px}
.card{background:#020617;border:1px solid #1e293b;border-radius:12px;padding:12px;text-align:center;cursor:pointer}
.card img{width:64px;height:64px;border-radius:12px;margin-bottom:8px}
.card b{display:block}
.empty{text-align:center;padding:40px;color:#94a3b8}
</style>
</head>

<body>
<header>ðŸŽ® RHF GAMES STORE</header>

<div id="gameGrid" class="grid"></div>
<div id="empty" class="empty" style="display:none">
Belum ada game tersedia
</div>

<!-- ============ FIREBASE ============ -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAyHSaALeuwibcF22VNL_6WDlcZepcDB3A",
  authDomain: "rhf-gamestore.firebaseapp.com",
  databaseURL: "https://rhf-gamestore-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "rhf-gamestore",
  storageBucket: "rhf-gamestore.firebasestorage.app",
  messagingSenderId: "52065906934",
  appId: "1:52065906934:web:c15f0eff91cc937f787cd7"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const grid = document.getElementById('gameGrid');
const empty = document.getElementById('empty');

/* ===== LOAD GAME REALTIME ===== */
onValue(ref(db,'games'), snap=>{
  grid.innerHTML='';
  if(!snap.exists()){
    empty.style.display='block';
    return;
  }
  empty.style.display='none';

  snap.forEach(s=>{
    const g = s.val();
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML=`
      <img src="${g.logo}">
      <b>${g.name}</b>
      <small>${g.category}</small>
    `;
    card.onclick=()=>{
      location.href = `game.html?id=${g.id}`;
    };
    grid.appendChild(card);
  });
});
</script>
</body>
</html>
